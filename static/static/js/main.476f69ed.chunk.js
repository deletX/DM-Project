(this["webpackJsonpreact-fontend"]=this["webpackJsonpreact-fontend"]||[]).push([[0],{233:function(e,t,a){e.exports=a.p+"static/media/logo.4add6abd.svg"},258:function(e,t,a){e.exports=a(391)},263:function(e,t,a){},264:function(e,t,a){},312:function(e,t){},314:function(e,t){},348:function(e,t){},349:function(e,t){},391:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=(a(263),a(264),a(242)),l=a(35),u=a(435),s="/home",m=a(25),d=a(16),g=a.n(d),p="283420556311-30r26g3mtt5odkqmit6u7onam3qrul16.apps.googleusercontent.com",f="4mOLHPfJL0zueHOlawvJXsdnImpjOv3PmLdmm3NT",h="FW4dYuZsLmE6PQHk7qrPAc4shQhdx2hknqNOh58XO3JQ6PFI8um2z6wyJubxF6hKNOOOJfZUQ67jm5ApN5HJioq4XsNAGSbCLiQZqrqfo6jiy67ddpvMOl3Be8SATFSL",E="http://localhost:8000/api/v0.1/",v=function(){return E+"current-profile/"},b=function(){return E+"auth/token"},O=function(){return E+"signup/"},y=function(e){return"".concat(function(e){return E+"profiles/".concat(e,"/")}(e),"cars/")},w=function(){return"".concat(v(),"notifications/")},S=function(e,t){return function(a){a({type:"ADD_ALERT",text:e,style:t})}},j=function(e){return function(t){e.response?t(S(JSON.stringify(e.response.data),"error")):t(S(e.toString(),"error"))}},k=a(127),N=a(76),x=function(e,t){return Object(N.a)({},e,{},t)},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Object(N.a)({headers:Object(N.a)({"Content-type":e},a)},n);return null!=t&&(r=Object(N.a)({},r,{headers:Object(N.a)({},r.headers,{Authorization:"Bearer ".concat(t)})})),r},C=function(){return function(e){e({type:"PROFILE_OP_START"});var t=localStorage.getItem("access_token");return g.a.get(v(),T("application/json",t)).then((function(t){var a=t.data,n=a.id,r=a.user,o=a.picture,i=a.score,c=a.car_set,l=a.average_vote,u=a.received_feedback,s=a.given_feedback;return localStorage.setItem("profile_id",n),e((function(e){e({type:"REMOVE_ALL_ALERTS"})})),e(function(e,t,a,n,r,o,i,c){return{type:"GET_PROFILE_SUCCESS",id:e,picture:a,score:n,carSet:r,averageVote:o,receivedFeedback:i,givenFeedback:c,user:t}}(n,r,o,i,c,l,u,s))})).catch((function(t){return e({type:"PROFILE_OP_ERROR"}),e(j(t)),t}))}},_=function(){return function(e){e({type:"NOTIFICATIONS_START"});var t=localStorage.getItem("access_token");return g.a.get(w(),T("application/json",t)).then((function(t){e({type:"GET_NOTIFICATIONS_SUCCESS",notifications:t.data})})).catch((function(t){return e(j(t)),e({type:"NOTIFICATIONS_ERROR"}),t}))}},I=function(e){return{type:"AUTH_SUCCESS",token:e}},R=function(e){return function(t){var a=localStorage.getItem("refresh_token");setTimeout((function(){t(A(a))}),1e3*e)}},A=function(e){return function(t){return g.a.post(b(),k.stringify({client_id:f,client_secret:h,grant_type:"refresh_token",refresh_token:e}),T("application/x-www-form-urlencoded")).then((function(e){var a=e.data.access_token,n=e.data.refresh_token,r=new Date((new Date).getTime()+36e5);localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",n),localStorage.setItem("expiration_date",r),t(I(a)),t(C()),t(_()),t(R(3600))})).catch((function(e){return t({type:"AUTH_ERROR"}),t(j(e)),e}))}},L=function(e){return function(t){return t({type:"AUTH_START"}),g.a.post(E+"auth/convert-token",k.stringify({client_id:f,client_secret:h,grant_type:"convert_token",backend:"google-oauth2",token:e}),T("application/x-www-form-urlencoded")).then((function(e){var a=e.data.access_token,n=e.data.refresh_token,r=new Date((new Date).getTime()+36e5);return localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",n),localStorage.setItem("expiration_date",r),t(I(a)),t(_()),t(R(3600)),t(C())})).catch((function(e){return t({type:"AUTH_ERROR"}),t(j(e)),e}))}},P=function(e,t){return function(a){return a({type:"AUTH_START"}),g.a.post(b(),k.stringify({client_id:f,client_secret:h,grant_type:"password",username:e,password:t}),T("application/x-www-form-urlencoded")).then((function(e){var t=e.data.access_token,n=e.data.refresh_token,r=new Date((new Date).getTime()+36e5);return localStorage.setItem("access_token",t),localStorage.setItem("refresh_token",n),localStorage.setItem("expiration_date",r),a(I(t)),a(R(3600)),a(_()),a(C())})).catch((function(e){return a({type:"AUTH_ERROR"}),a(j(e)),e}))}},F=function(){return function(e){e((localStorage.clear(),{type:"AUTH_LOGOUT"})),e((function(e){return e({type:"CLEAR_PROFILE_DATA"})})),e((function(e){e({type:"CLEAR_NOTIFICATIONS"})}))}},U=a(437),D=a(243),B=a(48),W=Object(u.a)((function(e){return{root:{minWidth:"100vw",backgroundColor:B.white,alignItems:"center",flexDirection:"column",display:"flex"},formPaper:{flexDirection:"column",alignItems:"center",display:"flex",flexWrap:"wrap",margin:20,maxWidth:"55ch",minWidth:"10ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}})),H=Object(m.b)((function(e){return{isAuthenticated:void 0!==e.auth.token}}),null)((function(e){var t=e.children,a=e.isAuthenticated;Object(n.useEffect)((function(){a&&Pt.push(s)}));var o=W();return r.a.createElement(U.a,{className:o.root,maxWidth:"xs"},r.a.createElement(D.a,{className:o.formPaper},t))})),G=a(8),z=a(94),q=a(449),M=a(476),J=a(450),$=a(468),V=a(439),Z=a(473),Q=a(445),X=a(441),K=a(446),Y=a(472),ee=a(438),te=a(122),ae=a.n(te),ne=a(74);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ie=r.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:#4285F4;}\n\t.st1{fill:#34A853;}\n\t.st2{fill:#FBBC04;}\n\t.st3{fill:#EA4335;}\n"),ce=r.a.createElement("g",null,r.a.createElement("path",{className:"st0",d:"M533.5,278.4c0-18.5-1.5-37.1-4.7-55.3H272.1v104.8h147c-6.1,33.8-25.7,63.7-54.4,82.7v68h87.7 C503.9,431.2,533.5,361.2,533.5,278.4z"}),r.a.createElement("path",{className:"st1",d:"M272.1,544.3c73.4,0,135.3-24.1,180.4-65.7l-87.7-68c-24.4,16.6-55.9,26-92.6,26c-71,0-131.2-47.9-152.8-112.3 H28.9v70.1C75.1,486.3,169.2,544.3,272.1,544.3z"}),r.a.createElement("path",{className:"st2",d:"M119.3,324.3c-11.4-33.8-11.4-70.4,0-104.2V150H28.9c-38.6,76.9-38.6,167.5,0,244.4L119.3,324.3z"}),r.a.createElement("path",{className:"st3",d:"M272.1,107.7c38.8-0.6,76.3,14,104.4,40.8l0,0l77.7-77.7C405,24.6,339.7-0.8,272.1,0C169.2,0,75.1,58,28.9,150 l90.4,70.1C140.8,155.6,201.1,107.7,272.1,107.7z"})),le=function(e){var t=e.svgRef,a=e.title,n=oe(e,["svgRef","title"]);return r.a.createElement("svg",re({id:"Livello_1",x:"0px",y:"0px",viewBox:"0 0 533.5 544.3",style:{enableBackground:"new 0 0 533.5 544.3"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,ie,ce)},ue=r.a.forwardRef((function(e,t){return r.a.createElement(le,re({svgRef:t},e))})),se=(a.p,a(465)),me=Object(u.a)((function(e){return{root:{marginBottom:e.spacing(2),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},button:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},imageInput:{display:"none"},imageProgress:{marginLeft:e.spacing(1)},imgPreview:{color:e.palette.getContrastText(e.palette.secondary.dark),backgroundColor:e.palette.secondary.dark,margin:10,maxWidth:"9ch",minWidth:"6ch",maxHeight:"9ch",minHeight:"6ch"},googleLogin:{width:"100%",backgroundColor:"white"},editAlert:{width:"90%"}}})),de=function(e){var t=e.firstName,a=e.setFirstName,o=e.lastName,i=e.setLastName,c=e.username,l=e.setUsername,u=e.usernameError,s=e.setUsernameError,m=e.password,d=e.setPassword,f=e.passwordError,h=e.setPasswordError,E=e.email,v=e.setEmail,b=e.emailError,O=e.setEmailError,y=e.image,w=e.setImage,S=e.imageURL,j=e.setImageURL,k=e.isGoogleLogin,N=e.setGoogleLogin,x=e.setGoogleAccessToken,T=e.handleNext,C=me(),_=Object(n.useState)(""),I=Object(G.a)(_,2),R=I[0],A=I[1],L=Object(n.useState)(""),P=Object(G.a)(L,2),F=P[0],U=P[1],D=Object(n.useState)(""),B=Object(G.a)(D,2),W=B[0],H=B[1],z=function(e){J(),null===e.target.value||""===e.target.value?(O(!0),A("Required")):/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e.target.value)?(O(!1),A("")):(O(!0),A("Not a valid email")),v(e.target.value)},q=function(e){J(),null===e.target.value||""===e.target.value?(s(!0),H("Required")):(s(!1),H("")),l(e.target.value)},M=function(e){J(),null===e.target.value||""===e.target.value?(h(!0),U("Required")):/^[\w!@#$%^&*]{8,}$/.test(e.target.value)?/^(?=.*[\d])[\w!@#$%^&*]{8,}$/.test(e.target.value)?/^(?=.*[A-Z])(?=.*[\d])[\w!@#$%^&*]{8,}$/.test(e.target.value)?/^(?=.*[a-z])(?=.*[A-Z])(?=.*[\d])[\w!@#$%^&*]{8,}$/.test(e.target.value)?/^(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])(?=.*[\d])[\w!@#$%^&*]{8,}$/.test(e.target.value)?(h(!1),U("")):(h(!0),U("Should contain at least 1 special character")):(h(!0),U("Should contain at least 1 lowercase")):(h(!0),U("Should contain at least 1 capital")):(h(!0),U("Should contain at least 1 number")):(h(!0),U("Should be at least 8 character long")),d(e.target.value)},J=function(){x(""),N(!1)},$=(""!==t?t.toUpperCase().charAt(0):"")+(""!==o?o.toUpperCase().charAt(0):"");return r.a.createElement("div",{className:C.root},r.a.createElement(Y.a,{src:S,className:C.imgPreview},""!==$?$:null),r.a.createElement("form",{className:C.form},r.a.createElement(ee.a,{container:!0,spacing:2},r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(ae.a,{isSignedIn:!1,onSuccess:function(e){var t=e.profileObj.email.split("@")[0].replace(" ","_").replace(".","_");x(e.accessToken),N(!0),a(e.profileObj.givenName),i(e.profileObj.familyName),v(e.profileObj.email),l(t),j(e.profileObj.imageUrl),g.a.get(e.profileObj.imageUrl,{responseType:"blob"}).then((function(e){var a=e.data,n=e.data.type.split("/").pop();a.name="".concat(t,".").concat(n),w(a)})),T()},onFailure:function(){},clientId:p,render:function(e){return r.a.createElement(V.a,{variant:"contained",className:C.googleLogin,onClick:e.onClick,startIcon:r.a.createElement(ne.a,{component:ue,viewBox:"0 0 533.5 544.3"})},"Signup with Google")}})),k&&r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(se.a,{className:C.editAlert,severity:"warning"},"Editing these info will undo your Google Signup")),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,id:"name",label:"First Name",placeholder:"James",value:t,onChange:function(e){J(),a(e.target.value)},autoComplete:"name"})),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,id:"surname",label:"Last Name",placeholder:"Bond",value:o,onChange:function(e){J(),i(e.target.value)},autoComplete:"family-name"})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0,id:"username",label:"Username",value:c,placeholder:"jamesbond007",helperText:W,onChange:q,onBlur:q,error:u,autoComplete:"username"})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0,id:"email",label:"E-mail",placeholder:"jamesbond@mi6.co.uk",type:"email",error:b,helperText:R,onChange:z,onBlur:z,value:E,autoComplete:"email"})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0,id:"password",label:"Password",error:f,value:m,type:"password",helperText:F,onChange:M,onBlur:M,autoComplete:"new-password"})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(V.a,{fullWidth:!0,variant:"contained",color:"secondary",component:"label",justify:"flex-end",className:C.button,startIcon:r.a.createElement(Q.a,null)},"Picture",r.a.createElement(X.a,{className:C.imageInput,type:"file",controlled:"true",onChange:function(e){J(),w("loading");var t=new FileReader,a=e.target.files[0];t.onloadend=function(){j(t.result)},w(a),t.readAsDataURL(a)}}),"loading"===y?r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{size:"2ch",className:C.imageProgress})):r.a.createElement(r.a.Fragment,null))))))},ge=a(451),pe=a(466),fe=a(447),he=a(443),Ee=a(475),ve=a(448),be=Object(u.a)((function(e){return{root:{marginBottom:e.spacing(2),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},button:{marginRight:e.spacing(1),marginBottom:e.spacing(1)}}})),Oe=function(e){var t=e.name,a=e.setName,o=e.totSeats,i=e.setTotSeats,c=e.consumption,l=e.setConsumption,u=e.fuel,s=e.setFuel,m=be(),d=Object(n.useState)(!1),g=Object(G.a)(d,2),p=g[0],f=g[1];return r.a.createElement("div",{className:m.root},r.a.createElement(he.a,{variant:"outlined",className:m.form},r.a.createElement(ee.a,{container:!0,spacing:2},r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0,id:"car-name",label:"Name",placeholder:"Fiat Uno 1992",value:t,onChange:function(e){var t=e.target.value;t.length>0?f(!1):f(!0),a(t)},onBlur:function(e){(e.target.value.length<0||""===e.target.value)&&f(!0)},error:p,required:!0,helperText:p?"Name is required":"",autoComplete:"name"})),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(he.a,{variant:"outlined"},r.a.createElement(Ee.a,{id:"tot-seats-label"},"Seats"),r.a.createElement(pe.a,{id:"tot-seats",label:"Seats",labelId:"tot-seats-label",value:o,onChange:function(e){i(e.target.value)}},r.a.createElement(fe.a,{value:2},"2"),r.a.createElement(fe.a,{value:3},"3"),r.a.createElement(fe.a,{value:4},"4"),r.a.createElement(fe.a,{value:5},"5"),r.a.createElement(fe.a,{value:6},"6"),r.a.createElement(fe.a,{value:7},"7"),r.a.createElement(fe.a,{value:8},"8"),r.a.createElement(fe.a,{value:9},"9")))),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(he.a,{variant:"outlined"},r.a.createElement(Ee.a,{id:"fuel-label"},"Fuel"),r.a.createElement(pe.a,{id:"fuel",labelId:"fuel-label",label:"Fuel",value:u,onChange:function(e){s(e.target.value)}},r.a.createElement(fe.a,{value:1},"Petrol"),r.a.createElement(fe.a,{value:2},"Diesel"),r.a.createElement(fe.a,{value:3},"Gas"),r.a.createElement(fe.a,{value:4},"Electric")))),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{type:"number",helperText:"Between 5 and 25",step:.05,label:"Consumption",value:c,InputProps:{endAdornment:r.a.createElement(ve.a,{position:"end"},"l/100Km")},onChange:function(e){l(e.target.value)},onBlur:function(e){var t=e.target.value;t<5&&(e.target.value=5),t>20&&(e.target.value=20),l(e.target.value)}})))))},ye=Object(u.a)((function(e){return{root:{marginBottom:e.spacing(5),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},button:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},imageInput:{display:"none"},imageProgress:{marginLeft:e.spacing(1)},imgPreview:{margin:10,maxWidth:"9ch",minWidth:"6ch",maxHeight:"9ch",minHeight:"6ch"},instruction:{marginBottom:e.spacing(2)},carDivider:{width:"123%",marginTop:e.spacing(5),marginRight:"22px",marginBottom:e.spacing(5)}}})),we=function(e){var t=e.firstName,a=e.lastName,n=e.username,o=e.password,i=e.email,c=e.imageURL,l=e.carName,u=e.totSeats,s=e.consumption,m=e.fuel,d=e.isGoogleLogin,g=ye();return r.a.createElement("div",{className:g.root},r.a.createElement(z.a,{className:g.instruction},"Review you're data before submitting!"),r.a.createElement(Y.a,{src:""!==c?c:"http://localhost:8000/media/default-profile.jpg",className:g.imgPreview}),r.a.createElement(he.a,{variant:"outlined",className:g.form},r.a.createElement(ee.a,{container:!0,spacing:2},d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(se.a,{severity:"info"},"Signing in with Google"))),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0,id:"name",label:"First Name",value:t,InputProps:{readOnly:!0}})),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0,id:"surname",label:"Last Name",value:a,InputProps:{readOnly:!0}})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{fullWidth:!0,id:"username",label:"Username",value:n,InputProps:{readOnly:!0}})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{fullWidth:!0,id:"email",label:"E-mail",type:"email",value:i,InputProps:{readOnly:!0}})),!d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{fullWidth:!0,id:"password",label:"Password",value:o,type:"password",InputProps:{readOnly:!0}}))))),""!==l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:g.carDivider}),r.a.createElement(he.a,{variant:"outlined",className:g.form},r.a.createElement(ee.a,{container:!0,spacing:2},r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{fullWidth:!0,id:"car-name",label:"Name",value:l,InputProps:{readOnly:!0}})),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(he.a,{variant:"outlined"},r.a.createElement(Ee.a,{id:"tot-seats-label"},"Seats"),r.a.createElement(pe.a,{id:"tot-seats",label:"Seats",labelId:"tot-seats-label",value:u,inputProps:{readOnly:!0}},r.a.createElement(fe.a,{value:2},"2"),r.a.createElement(fe.a,{value:3},"3"),r.a.createElement(fe.a,{value:4},"4"),r.a.createElement(fe.a,{value:5},"5"),r.a.createElement(fe.a,{value:6},"6"),r.a.createElement(fe.a,{value:7},"7"),r.a.createElement(fe.a,{value:8},"8"),r.a.createElement(fe.a,{value:9},"9")))),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(he.a,{variant:"outlined"},r.a.createElement(Ee.a,{id:"fuel-label"},"Fuel"),r.a.createElement(pe.a,{id:"fuel",labelId:"fuel-label",label:"Fuel",value:m,inputProps:{readOnly:!0}},r.a.createElement(fe.a,{value:1},"Petrol"),r.a.createElement(fe.a,{value:2},"Diesel"),r.a.createElement(fe.a,{value:3},"Gas"),r.a.createElement(fe.a,{value:4},"Electric")))),r.a.createElement(ee.a,{item:!0,xs:12,sm:6},r.a.createElement(Z.a,{type:"number",step:.05,label:"Consumption",value:s,InputProps:{endAdornment:r.a.createElement(ve.a,{position:"end"},"l/100Km"),readOnly:!0}}))))))},Se=a(469),je=a(477),ke=Object(u.a)((function(e){return{button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},root:{width:"95%",margin:10},loading:{marginBottom:e.spacing(5),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},loadingTypography:{marginBottom:e.spacing(2)}}}));var Ne=Object(m.b)(null,(function(e){return{authSignup:function(t,a,n,r,o){return e(function(e,t,a,n,r){return function(o){return o({type:"AUTH_START"}),g.a.post(O(),{username:e,first_name:t,last_name:a,email:n,password:r},T("application/json")).then((function(t){return o(P(e,r))})).catch((function(e){return o({type:"AUTH_ERROR"}),o(j(e)),e}))}}(t,a,n,r,o))},googleLogin:function(t){return e(L(t))},setPicture:function(t){return e((a=t,function(e){e({type:"PROFILE_OP_START"});var t=localStorage.getItem("access_token"),n=new FormData;return n.append("picture",a,a.name),g.a.put(v(),n,T("multipart/form-data",t)).then((function(t){e(function(e){return{type:"PROFILE_PICTURE_UPDATE",picture:e}}(t.data.picture)),e(S("Immagine modificata con successo!","success"))})).catch((function(t){return e(j(t)),e({type:"PROFILE_OP_ERROR"}),t}))}));var a},postCar:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"PROFILE_OP_START"});var o=localStorage.getItem("access_token"),i=localStorage.getItem("profile_id");return g.a.post(y(i),{name:e,tot_avail_seats:t,fuel:a,consumption:n},T("application/json",o)).then((function(e){var t=e.data,a=t.id,n=t.name,o=t.totSeats,i=t.fuel,c=t.consumption;r(function(e,t,a,n,r){return{type:"CAR_CREATE",id:e,name:t,totSeats:a,fuel:n,consumption:r}}(a,n,o,i,c))})).catch((function(e){return r(j(e)),r({type:"PROFILE_OP_ERROR"}),e}))}}(t,a,n,r))},addError:function(t){return e(S(t,"error"))}}}))((function(e){var t=e.authSignup,a=e.googleLogin,o=e.setPicture,i=e.postCar,c=e.addError,l=Object(n.useState)(""),u=Object(G.a)(l,2),m=u[0],d=u[1],g=Object(n.useState)(!1),p=Object(G.a)(g,2),f=p[0],h=p[1],E=Object(n.useState)(""),v=Object(G.a)(E,2),b=v[0],O=v[1],y=Object(n.useState)(""),w=Object(G.a)(y,2),S=w[0],j=w[1],k=Object(n.useState)(""),N=Object(G.a)(k,2),x=N[0],T=N[1],C=Object(n.useState)(!1),_=Object(G.a)(C,2),I=_[0],R=_[1],A=Object(n.useState)(""),L=Object(G.a)(A,2),P=L[0],F=L[1],U=Object(n.useState)(!1),D=Object(G.a)(U,2),B=D[0],W=D[1],H=Object(n.useState)(null),Z=Object(G.a)(H,2),Q=Z[0],X=Z[1],Y=Object(n.useState)(""),ee=Object(G.a)(Y,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(G.a)(ne,2),oe=re[0],ie=re[1],ce=Object(n.useState)(4),le=Object(G.a)(ce,2),ue=le[0],se=le[1],me=Object(n.useState)(10),pe=Object(G.a)(me,2),fe=pe[0],he=pe[1],Ee=Object(n.useState)(1),ve=Object(G.a)(Ee,2),be=ve[0],ye=ve[1],Ne=Object(n.useState)(!1),xe=Object(G.a)(Ne,2),Te=xe[0],Ce=xe[1],_e=Object(n.useState)(""),Ie=Object(G.a)(_e,2),Re=Ie[0],Ae=Ie[1],Le=Object(n.useState)(!0),Pe=Object(G.a)(Le,2),Fe=Pe[0],Ue=Pe[1],De=["Personal Info","Add your Car","Submit!"],Be=ke(),We=r.a.useState(0),He=Object(G.a)(We,2),Ge=He[0],ze=He[1],qe=r.a.useState(new Set),Me=Object(G.a)(qe,2),Je=Me[0],$e=Me[1],Ve=function(e){return 1===e},Ze=function(e){return Je.has(e)},Qe=function(){var e=Je;Ze(Ge)&&(e=new Set(e.values())).delete(Ge),ze((function(e){return e+1})),$e(e)},Xe=function(){ze((function(e){return e-1}))},Ke=function(){Ve(Ge)||c("You can't skip a step that isn't optional."),1===Ge&&(ie(""),se(4),ye(1),he(10)),ze((function(e){return e+1})),$e((function(e){var t=new Set(e.values());return t.add(Ge),t}))};Ge===De.length&&(Te?a(Re).then((function(e){e instanceof Error?(c("An error occurred while signing you up with google"),console.log(e),Ue(!1),ze(0)):(""!==oe&&i(oe,ue,be,fe),""!==te&&o(Q),Pt.push(s))})):t(x,b,S,m,P).then((function(e){e instanceof Error?(c("An error occurred while signing you up"),console.log(e),Ue(!1),ze(0)):(""!==oe&&i(oe,ue,be,fe),""!==te&&o(Q),Pt.push(s))})));var Ye=!function(e){switch(e){case 0:return!f&&m.length>0&&!I&&x.length>0&&!B&&P.length>0||Te;case 1:return oe.length>0;default:return!0}}(Ge);return r.a.createElement("div",{className:Be.root},r.a.createElement(z.a,{variant:"h5",align:"center",className:Be.title},"Sign Up!"),r.a.createElement(q.a,null),r.a.createElement(M.a,{activeStep:Ge,orientation:"vertical"},De.map((function(e,t){var a={},n={};return Ve(t)&&(n.optional=r.a.createElement(z.a,{variant:"caption"},"Optional")),Ze(t)&&(a.completed=!1),r.a.createElement(J.a,Object.assign({key:e},a),r.a.createElement($.a,n,e),r.a.createElement(ge.a,null,function(e){switch(e){case 0:return r.a.createElement(de,{firstName:b,setFirstName:O,lastName:S,setLastName:j,username:x,setUsername:T,usernameError:I,setUsernameError:R,email:m,setEmail:d,emailError:f,setEmailError:h,password:P,setPassword:F,passwordError:B,setPasswordError:W,image:Q,setImage:X,imageURL:te,setImageURL:ae,isGoogleLogin:Te,setGoogleLogin:Ce,setGoogleAccessToken:Ae,handleNext:Qe});case 1:return r.a.createElement(Oe,{name:oe,setName:ie,totSeats:ue,setTotSeats:se,consumption:fe,setConsumption:he,fuel:be,setFuel:ye});case 2:return r.a.createElement(we,{firstName:b,lastName:S,username:x,email:m,password:P,imageURL:te,carName:oe,totSeats:ue,consumption:fe,fuel:be,isGoogleLogin:Te});default:return"Unknown step"}}(t),r.a.createElement("div",null,r.a.createElement(V.a,{disabled:0===Ge,onClick:Xe,className:Be.button},"Back"),Ve(Ge)&&r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:Ke,className:Be.button},"Skip"),r.a.createElement(V.a,{variant:"contained",color:"primary",onClick:Qe,className:Be.button,disabled:Ye},Ge===De.length-1?"SignUP!":"Next"))))}))),Ge===De.length&&r.a.createElement(je.a,{className:Be.backdrop,open:Fe},r.a.createElement(Se.a,{className:Be.loading},r.a.createElement(z.a,{className:Be.loadingTypography},"Loading your data!"),r.a.createElement(K.a,{color:"inherit"}))))})),xe=a(229),Te=a.n(xe),Ce=Object(u.a)((function(e){return{title:{backgroundColor:e.palette.background.paper,padding:e.spacing(1)},root:{width:"95%",margin:10},formContainer:{marginBottom:e.spacing(2),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},loading:{marginBottom:e.spacing(5),width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},loadingTypography:{marginBottom:e.spacing(2)},form:{width:"90%"},googleLogin:{width:"100%",height:45,backgroundColor:"white",marginTop:e.spacing(2)},button:{marginRight:e.spacing(1),marginBottom:e.spacing(1)},imgPreview:{color:e.palette.getContrastText(e.palette.secondary.dark),backgroundColor:e.palette.secondary.dark,margin:10,maxWidth:"9ch",minWidth:"6ch",maxHeight:"9ch",minHeight:"6ch"}}}));var _e=Object(m.b)(null,(function(e){return{authLogin:function(t,a){return e(P(t,a))},googleLogin:function(t){return e(L(t))},addError:function(t){return e(S(t,"error"))}}}))((function(e){var t=e.authLogin,a=e.googleLogin,o=e.addError,i=Object(n.useState)(""),c=Object(G.a)(i,2),l=c[0],u=c[1],m=Object(n.useState)(!1),d=Object(G.a)(m,2),g=d[0],f=d[1],h=Object(n.useState)(""),E=Object(G.a)(h,2),v=E[0],b=E[1],O=Object(n.useState)(!1),y=Object(G.a)(O,2),w=y[0],S=y[1],j=Object(n.useState)(!1),k=Object(G.a)(j,2),N=k[0],x=(k[1],Ce()),T=!(l.length>0&&v.length>0);return r.a.createElement("div",{className:x.root},r.a.createElement(z.a,{variant:"h5",align:"center",className:x.title},"Log in!"),r.a.createElement(q.a,null),r.a.createElement("div",{className:x.formContainer},r.a.createElement(Y.a,{className:x.imgPreview},r.a.createElement(Te.a,{fontSize:"large"})),r.a.createElement("form",{className:x.form},r.a.createElement(ee.a,{container:!0,spacing:5},r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(ae.a,{isSignedIn:!1,onSuccess:function(e){e.profileObj.email.split("@")[0];a(e.accessToken).catch((function(e){!e instanceof Error?Pt.push(s):(o("An error occurred while logging you in with google"),console.log(e))}))},onFailure:function(){},clientId:p,render:function(e){return r.a.createElement(V.a,{variant:"contained",className:x.googleLogin,onClick:e.onClick,startIcon:r.a.createElement(ne.a,{component:ue,viewBox:"0 0 533.5 544.3"})},"Login with Google")}})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0,id:"username",label:"Username",value:l,placeholder:"jamesbond007",helperText:"Required",onChange:function(e){u(e.target.value),f(0===e.target.value.length)},onBlur:function(e){u(e.target.value),f(0===e.target.value.length)},error:g,autoComplete:"username"})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Z.a,{variant:"outlined",fullWidth:!0,required:!0,id:"password",label:"Password",error:w,value:v,type:"password",helperText:"Required",onChange:function(e){b(e.target.value),S(0===e.target.value.length)},onBlur:function(e){b(e.target.value),S(0===e.target.value.length)},autoComplete:"new-password"})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(V.a,{fullWidth:!0,variant:"contained",color:"secondary",component:"label",justify:"flex-end",className:x.button,disabled:T,onClick:function(){t(l,v).catch((function(e){!e instanceof Error?Pt.push(s):(o("An error occurred while logging you in"),console.log(e))}))}},"Log in"))))),r.a.createElement(je.a,{className:x.backdrop,open:N},r.a.createElement(Se.a,{className:x.loading},r.a.createElement(z.a,{className:x.loadingTypography},"Loading your data!"),r.a.createElement(K.a,{color:"inherit"}))))})),Ie=a(440),Re=a(458),Ae=a(478),Le=a(128),Pe=a.n(Le),Fe=Object(u.a)((function(e){return{root:{width:"100%",backgroundColor:B.white,alignItems:"left",display:"flex"},chip:{marginRight:15}}})),Ue=function(e){var t=e.joinable,a=e.joined,n=e.owned,o=e.changeValues,i=Fe();return r.a.createElement("div",{className:i.root},r.a.createElement(Ae.a,{className:i.chip,label:"Joinable",onClick:function(){return o(!t,a,n)},color:t?"secondary":"default",icon:t?r.a.createElement(Pe.a,null):""}),r.a.createElement(Ae.a,{className:i.chip,label:"Joined",onClick:function(){return o(t,!a,n)},color:a?"secondary":"default",icon:a?r.a.createElement(Pe.a,null):""}),r.a.createElement(Ae.a,{className:i.chip,label:"Owned",onClick:function(){return o(t,a,!n)},color:n?"secondary":"default",icon:n?r.a.createElement(Pe.a,null):null}))},De=a(453),Be=a(457),We=a(456),He=a(454),Ge=a(455),ze=Object(u.a)((function(e){return{root:{maxWidth:300,maxHeight:310,width:"50vw",minWidth:250},media:{height:140},primaryButton:{color:e.palette.primary.dark},secondryButton:{color:e.palette.secondary.dark}}})),qe=function(e){var t=e.event,a=ze(),n=new Date(t.date_time);return r.a.createElement(De.a,{className:a.root},r.a.createElement(He.a,null,r.a.createElement(Ge.a,{className:a.media,image:t.picture,title:t.name}),r.a.createElement(We.a,null,r.a.createElement(z.a,{gutterBottom:!0,variant:"h5",component:"h2",noWrap:!0},t.name),r.a.createElement(z.a,{variant:"body2",color:"textSecondary",component:"p",noWrap:!0},"Date: ","".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear()," ").concat(n.getHours(),":").concat(n.getMinutes())),r.a.createElement(z.a,{variant:"body2",color:"textSecondary",component:"p",noWrap:!0},"Location: ",t.address))),r.a.createElement(Be.a,null,r.a.createElement(V.a,{className:a.primaryButton},"Join"),r.a.createElement(V.a,{className:a.primaryButton},"Edit"),r.a.createElement(V.a,{className:a.secondryButton},"Details")))},Me=Object(u.a)((function(e){return{root:{minWidth:"100vw",backgroundColor:B.white,alignItems:"left",flexDirection:"column",display:"flex"},firstLine:{"& > h2":{marginBottom:5},display:"inline",alignItems:"initial",marginTop:13,marginLeft:20},plusButton:{marginLeft:10,color:e.palette.secondary.dark},cardGridItem:{marginTop:3},gridContainer:{width:"90%",marginTop:3,alignItems:"center",flexDirection:"left",display:"flex",marginLeft:10}}})),Je=Object(m.b)((function(e){return{token:e.auth.token,isAuthenticated:void 0!==e.auth.token,search:e.search}}),(function(e){return{addError:function(t){return e(S(t,"error"))}}}))((function(e){var t=e.isAuthenticated,a=e.search,o=e.token;Object(n.useEffect)((function(){t||Pt.push("/login"),null===j&&g.a.get(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E+"events/?joined=".concat(t,"&joinable=").concat(e,"&owned=").concat(a)}(u,p,b),T("application/json",o)).then((function(e){k(e.data)})).catch((function(e){S("An Error occurred while retrieving events")}))}));var i=Me(),c=Object(n.useState)(!0),l=Object(G.a)(c,2),u=l[0],s=l[1],m=Object(n.useState)(!0),d=Object(G.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(!1),v=Object(G.a)(h,2),b=v[0],O=v[1],y=Object(n.useState)(null),w=Object(G.a)(y,2),j=w[0],k=w[1],N=j;null!==j&&(N=N.filter((function(e){return e.name.includes(a)})));var x=[];return null!==N&&(x=N.map((function(e){return r.a.createElement(ee.a,{key:e.id,item:!0,className:i.cardGridItem},r.a.createElement(qe,{event:e}))}))),console.log(N),r.a.createElement("div",{className:i.root},r.a.createElement("div",{className:i.firstLine},r.a.createElement(z.a,{variant:"h2"},"Events",r.a.createElement(Ie.a,{className:i.plusButton,"aria-label":"add"},r.a.createElement(Re.a,{fontSize:"large"}))),r.a.createElement(Ue,{joined:p,joinable:u,owned:b,changeValues:function(e,t,a){s(e),f(t),O(a),k(null)}})),r.a.createElement(ee.a,{container:!0,xs:12,spacing:3,className:i.gridContainer},x))})),$e=(Object(l.a)(),function(e){return r.a.createElement("div",null,r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/login"},r.a.createElement(H,null,r.a.createElement(_e,null))),r.a.createElement(c.a,{exact:!0,path:"/signup"},r.a.createElement(H,null,r.a.createElement(Ne,null))),r.a.createElement(c.a,{exact:!0,path:"/home",component:Je})))}),Ve=a(396),Ze=a(231),Qe=a.n(Ze),Xe=Object(u.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function Ke(e){var t=Xe(),a=r.a.useState(!0),n=Object(G.a)(a,2),o=n[0],i=n[1],c=e.alert;return r.a.createElement("div",{className:t.root},r.a.createElement(Ve.a,{in:o},r.a.createElement(se.a,{severity:c.style,action:r.a.createElement(Ie.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){i(!1)}},r.a.createElement(Qe.a,{fontSize:"inherit"}))},c.text)))}function Ye(e){var t=e.alerts.map((function(e){return r.a.createElement(Ke,{key:e.id,alert:e})}));return r.a.createElement("div",{className:"alert-container"},t)}var et=a(59),tt=a(463),at=a(464),nt=a(11),rt=a(234),ot=a.n(rt),it=a(245),ct=a(462),lt=a(240),ut=a(235),st=a.n(ut),mt=a(159),dt=a.n(mt),gt=a(158),pt=a.n(gt),ft=a(236),ht=a.n(ft),Et=a(239),vt=a(470),bt=Object(Et.a)({palette:{primary:{light:"#52c7b8",main:"#009688",dark:"#00675b",contrastText:"#000"},secondary:{light:"#ffc246",main:"#ff9100",dark:"#c56200",contrastText:"#000"},background:{paper:"#f0f0f0"}}}),Ot=bt=Object(vt.a)(bt),yt=a(471),wt=a(444),St=a(395),jt=a(460),kt=a(459),Nt=a(232),xt=a.n(Nt),Tt=Object(u.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));function Ct(e){var t=e.notification,a=e.history;Tt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(St.a,{alignItems:"flex-start",disabled:t.read,component:"a",href:"#",onClick:a.push(t.url)},r.a.createElement(kt.a,null,r.a.createElement(xt.a,null)),r.a.createElement(jt.a,{primary:t.title,secondary:t.content})),r.a.createElement(q.a,{variant:"inset",component:"li"}))}var _t=a(233),It=a.n(_t),Rt=ot()((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(et.a)({backgroundColor:"transparent",border:"none",cursor:"pointer",color:"inherit",textDecoration:"inherit",display:"none",outline:0,marginLeft:10},e.breakpoints.up("sm"),{display:"block"}),search:Object(et.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(nt.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(nt.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:5,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(et.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(et.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(et.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),logo:{backgroundColor:"transparent",border:"none",cursor:"pointer",maxHeight:"60px",outline:0},list:{width:250},fullList:{width:"auto"},drawerTitle:{margin:10},logout:{marginLeft:20}}}));var At=Object(m.b)((function(e){return{isAuthenticated:void 0!==e.auth.token,notificationsNumber:e.notifications.notifications.filter((function(e){return e.read})).length,notifications:e.notifications.notifications,search:e.search}}),(function(e){return{authLogout:function(){return e(F())},setSearch:function(t){return e(function(e){return function(t){return t({type:"SET_SEARCH",search:e})}}(t))}}}))((function(e){var t=e.isAuthenticated,a=e.notifications,n=e.notificationsNumber,o=e.authLogout,i=e.setSearch,c=(e.search,Rt()),l=r.a.useState(null),u=Object(G.a)(l,2),m=u[0],d=u[1],g=r.a.useState(!1),p=Object(G.a)(g,2),f=p[0],h=p[1],E=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&h(e)}},v=Boolean(m),b=function(){d(null)},O=r.a.createElement(V.a,{color:"inherit",className:c.logout,onClick:function(){b(),o()}}," Logout"),y=r.a.createElement(lt.a,{anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:b},r.a.createElement(fe.a,{onClick:function(e){E(!0)(e),b()}},r.a.createElement(Ie.a,{"aria-label":"show ".concat(n," new notifications"),color:"inherit"},r.a.createElement(ct.a,{badgeContent:n,color:"secondary"},r.a.createElement(pt.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(fe.a,null,r.a.createElement(Ie.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(dt.a,null)),r.a.createElement("p",null,"Profile")),r.a.createElement(fe.a,null,O)),w=a.map((function(e){return r.a.createElement(Ct,{key:e.id,notification:e})})),S=r.a.createElement(yt.a,{anchor:"right",open:f,onClose:E(!1)},r.a.createElement("div",{className:c.list,role:"presentation",onClick:E(!1),onKeyDown:E(!1)},r.a.createElement(q.a,null),r.a.createElement(z.a,{className:c.drawerTitle,variant:"h6"},"Notifications:"),r.a.createElement(q.a,null),r.a.createElement(wt.a,null,w)));return r.a.createElement("div",{className:c.grow},r.a.createElement(tt.a,{position:"static"},r.a.createElement(at.a,null,r.a.createElement("button",{className:c.logo,href:"#",onClick:function(){t?Pt.push(s):Pt.push("/")}},r.a.createElement("img",{src:It.a,alt:"logo",className:c.logo})),r.a.createElement(z.a,{className:c.title,variant:"h6",noWrap:!0,component:"button",href:"#",onClick:function(){Pt.push(s)}},"DM Project"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.search},r.a.createElement("div",{className:c.searchIcon},r.a.createElement(st.a,null)),r.a.createElement(it.a,{placeholder:"Search\u2026",classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){console.log(e.target.value),i(e.target.value)}})),r.a.createElement("div",{className:c.grow}),r.a.createElement("div",{className:c.sectionDesktop},r.a.createElement(Ie.a,{"aria-label":"show ".concat(n," new notifications"),color:"inherit",onClick:E(!0)},r.a.createElement(ct.a,{badgeContent:n,color:"secondary"},r.a.createElement(pt.a,null))),r.a.createElement(Ie.a,{edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:function(){},color:"inherit"},r.a.createElement(dt.a,null)),O),r.a.createElement("div",{className:c.sectionMobile},r.a.createElement(Ie.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit"},r.a.createElement(ht.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.grow}),r.a.createElement(V.a,{variant:"contained",color:"secondary",disableElevation:!0,onClick:function(){Pt.push("/signup")}},"Signup"),r.a.createElement(V.a,{color:"inherit",disableElevation:!0,onClick:function(){Pt.push("/login")}},"Login")))),y,S)})),Lt=a(461),Pt=Object(l.a)();var Ft=Object(m.b)((function(e){return{username:e.profile.user.username,alerts:e.alerts}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("access_token");if(void 0!==t||null!==t){var a=new Date(localStorage.getItem("expiration_date"));if(!(a<=new Date))return e(I(t)),e(_()).catch((function(t){return console.log(t),e(F())})),e(R((a.getTime()-(new Date).getTime())/1e3)),e(C()).catch((function(t){return console.log(t),e(F())}));e(F())}}))}}}))((function(e){return Object(n.useEffect)((function(){e.onTryAutoSignup()})),r.a.createElement(c.b,{history:Pt},r.a.createElement(Lt.a,{theme:Ot},r.a.createElement(At,null),r.a.createElement(Ye,{alerts:e.alerts}),r.a.createElement($e,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ut=a(56),Dt=a(237),Bt={token:void 0,loading:!1},Wt=function(e,t){return x(e,{loading:!0})},Ht=function(e,t){return x(e,{token:t.token,loading:!1})},Gt=function(e,t){return x(e,{loading:!1})},zt=function(e,t){return x(e,{token:void 0})},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Wt(e);case"AUTH_SUCCESS":return Ht(e,t);case"AUTH_ERROR":return Gt(e);case"AUTH_LOGOUT":return zt(e);default:return e}},Mt=a(241),Jt=a(238),$t=a.n(Jt),Vt=[],Zt=function(e,t){return window.scrollTo(0,0),[].concat(Object(Mt.a)(e),[{text:t.text,style:t.style,id:$t()()}])},Qt=function(e,t){return e.filter((function(e){return e.id!==t.id}))},Xt=function(e,t){return Vt},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return Zt(e,t);case"REMOVE_ALERT":return Qt(e,t);case"REMOVE_ALL_ALERTS":return Xt();default:return e}},Yt={id:"",picture:"",score:0,carSet:[],averageVote:0,receivedFeedback:[],givenFeedback:[],user:{},loading:!1},ea=function(e,t){return x(e,{loading:!0})},ta=function(e,t){var a=t.id,n=t.picture,r=t.score,o=t.carSet,i=t.averageVote,c=t.receivedFeedback,l=t.givenFeedback,u=t.user;return x(e,{loading:!1,id:a,picture:n,score:r,carSet:o,averageVote:i,receivedFeedback:c,givenFeedback:l,user:u})},aa=function(e,t){return x(e,{loading:!1,picture:t.picture})},na=function(e,t){return x(e,{loading:!1})},ra=function(e,t){var a=t.id,n=t.firstName,r=t.lastName,o=t.email,i=e.user;return i.id=a,i.firstName=n,i.lastName=r,i.email=o,x(e,{loading:!1,user:i})},oa=function(e,t){return Yt},ia=function(e,t){var a=t.id,n=t.name,r=t.totSeats,o=t.fuel,i=t.consumption;return e.carSet.push({id:a,name:n,totSeats:r,fuel:o,consumption:i}),e.loading=!1,e},ca=function(e,t){var a=t.id,n=t.name,r=t.totSeats,o=t.fuel,i=(t.consumption,e.carSet.findIndex((function(e){return e.id===a})));return e.carSet[i].name=n,e.carSet[i].totSeats=r,e.carSet[i].fuel=o,e.carSet[i].consumption=o,e.loading=!1,e},la=function(e,t){var a=e.carSet.filter((function(e){return e.id!==t}));return x(e,{carSet:a,loading:!1})},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_OP_START":return ea(e);case"GET_PROFILE_SUCCESS":return ta(e,t);case"PROFILE_PICTURE_UPDATE":return aa(e,t);case"PROFILE_OP_ERROR":return na(e);case"USER_DATA_UPDATE":return ra(e,t);case"CLEAR_PROFILE_DATA":return oa();case"CAR_CREATE":return ia(e,t);case"CAR_UPDATE":return ca(e,t);case"CAR_DELETE":return la(e,t);default:return e}},sa={loading:!1,notifications:[]},ma=function(e,t){return x(e,{loading:!0})},da=function(e,t){return x(e,{loading:!1})},ga=function(e,t){return x(e,{notifications:t.notifications})},pa=function(e,t){var a=t.id,n=(t.read,e.notifications.findIndex((function(e){return e.id===a})));return e.notifications[n].read=t,e},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATIONS_START":return ma(e);case"NOTIFICATIONS_ERROR":return da(e);case"GET_NOTIFICATIONS_SUCCESS":return ga(e,t);case"NOTIFICATION_UPDATE":return pa(e,t);case"CLEAR_NOTIFICATIONS":return sa;default:return e}},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH":return t.search;default:return e}},Ea=Object(Ut.c)({auth:qt,alerts:Kt,profile:ua,notifications:fa,search:ha}),va=[Dt.a],ba=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ut.d,Oa=Object(Ut.e)(Ea,{},ba(Ut.a.apply(void 0,va)));i.a.render(r.a.createElement(m.a,{store:Oa},r.a.createElement(Ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[258,1,2]]]);
//# sourceMappingURL=main.476f69ed.chunk.js.map